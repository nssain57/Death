<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Heart Runner ‚ù§Ô∏è</title>
<style>
body{
margin:0;
overflow:hidden;
background:#111;
}
canvas{
display:block;
margin:auto;
background:#222;
}
</style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = 200;

let heart = {
    x: 50,
    y: 150,
    size: 30,
    velocity: 0,
    gravity: 0.8,
    jumpPower: -12,
    grounded: true
};

let obstacles = [];
let speed = 6;
let score = 0;
let gameOver = false;

// Draw Heart
function drawHeart(x, y, size){
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.bezierCurveTo(x, y - size/2, x - size, y - size/2, x - size, y);
    ctx.bezierCurveTo(x - size, y + size/2, x, y + size, x, y + size);
    ctx.bezierCurveTo(x, y + size, x + size, y + size/2, x + size, y);
    ctx.bezierCurveTo(x + size, y - size/2, x, y - size/2, x, y);
    ctx.fill();
}

// Create obstacle
function createObstacle(){
    obstacles.push({
        x: canvas.width,
        y: 160,
        width: 20,
        height: 40
    });
}

// Game Loop
function update(){
    if(gameOver){
        ctx.fillStyle="white";
        ctx.font="30px Arial";
        ctx.fillText("Game Over üíî Press Space", 50, 100);
        return;
    }

    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Ground
    ctx.fillStyle="#444";
    ctx.fillRect(0,180,canvas.width,20);

    // Heart Physics
    heart.velocity += heart.gravity;
    heart.y += heart.velocity;

    if(heart.y >= 150){
        heart.y = 150;
        heart.velocity = 0;
        heart.grounded = true;
    }

    drawHeart(heart.x, heart.y, heart.size);

    // Obstacles
    obstacles.forEach((obs,index)=>{
        obs.x -= speed;
        ctx.fillStyle="lime";
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);

        // Collision
        if(
            heart.x < obs.x + obs.width &&
            heart.x + heart.size > obs.x &&
            heart.y + heart.size > obs.y
        ){
            gameOver = true;
        }

        if(obs.x + obs.width < 0){
            obstacles.splice(index,1);
            score++;
        }
    });

    ctx.fillStyle="white";
    ctx.fillText("Score: " + score, 20, 30);

    requestAnimationFrame(update);
}

// Jump
document.addEventListener("keydown", (e)=>{
    if(e.code === "Space"){
        if(gameOver){
            obstacles=[];
            score=0;
            gameOver=false;
        }
        if(heart.grounded){
            heart.velocity = heart.jumpPower;
            heart.grounded = false;
        }
    }
});

// Mobile tap
document.addEventListener("touchstart", ()=>{
    if(gameOver){
        obstacles=[];
        score=0;
        gameOver=false;
    }
    if(heart.grounded){
        heart.velocity = heart.jumpPower;
        heart.grounded = false;
    }
});

// Spawn obstacle
setInterval(createObstacle,1500);

update();
</script>

</body>
</html>
