<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heart Runner ❤️</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  background: linear-gradient(to top, #ffe6f0, #ffffff);
  font-family: Arial, sans-serif;
}

#game {
  width: 100%;
  height: 100vh;
  position: relative;
  overflow: hidden;
}

#heart {
  position: absolute;
  bottom: 60px;
  left: 8%;
  font-size: 8vw;
  transition: bottom 0.3s ease;
}

#obstacle {
  position: absolute;
  bottom: 60px;
  width: 5vw;
  height: 8vw;
  background: black;
  right: -10vw;
}

#score {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 5vw;
}

@media (min-width: 768px) {
  #heart { font-size: 40px; }
  #obstacle { width: 25px; height: 50px; }
  #score { font-size: 20px; }
}
</style>
</head>
<body>

<div id="game">
  <div id="heart">❤️</div>
  <div id="obstacle"></div>
  <div id="score">Score: 0</div>
</div>

<script>
const heart = document.getElementById("heart");
const obstacle = document.getElementById("obstacle");
const scoreDisplay = document.getElementById("score");

let score = 0;
let speed = 6; // initial speed
let isJumping = false;
let isAlive = true;
let obstacleX = window.innerWidth;

// Jump function
function jump() {
  if (isJumping) return;
  isJumping = true;

  let jumpHeight = 150;
  if (window.innerWidth < 600) jumpHeight = 120;

  heart.style.bottom = jumpHeight + "px";

  setTimeout(() => {
    heart.style.bottom = "60px";
    isJumping = false;
  }, 400);
}

document.addEventListener("keydown", jump);
document.addEventListener("touchstart", jump);
document.addEventListener("click", jump);

// Game Loop
function gameLoop() {
  if (!isAlive) return;

  obstacleX -= speed;
  obstacle.style.left = obstacleX + "px";

  const heartRect = heart.getBoundingClientRect();
  const obstacleRect = obstacle.getBoundingClientRect();

  // Collision detection
  if (
    heartRect.right > obstacleRect.left &&
    heartRect.left < obstacleRect.right &&
    heartRect.bottom > obstacleRect.top
  ) {
    isAlive = false;
    alert("Game Over ❤️ Your Score: " + score);
    location.reload();
  }

  // Reset obstacle
  if (obstacleX < -50) {
    obstacleX = window.innerWidth;
    score++;
    scoreDisplay.textContent = "Score: " + score;

    // Increase difficulty
    if (score % 5 === 0) {
      speed += 1;
    }
  }

  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>

</body>
</html>
